{"version":3,"sources":["pages/chat.js","images/crown2.svg","images/shield2.svg","images/people4.svg","images/xWhite.svg","images/nextWhite2.svg","images/sendWhite.svg","images/heartWhite.svg","images/disketteWhite.svg","images/exclamationWhite.svg","images/heartBlueEmpty2.svg","images/heartBlue2.svg","images/disketteYellow.svg","images/exclamationRed.svg","images/h.svg","WithRouterContainer.js","pages/home.js","pages/signup.js","pages/login.js","pages/about.js","pages/contact.js","pages/notfound.js","pages/got.js","pages/height.js","routing.js","nav.js","App.js","serviceWorker.js","index.js"],"names":["statusIdentifying","statusSearching","statusDisconnected","typeActivity","typeSystem","typeOwn","typeBuddy","systemSearch","systemDisconnect","svgX","require","svgNext","svgSendWhite","svgExclamationWhite","svgHeartBlueEmpty","svgHeartBlueFilled","svgExclamationRed","Chat","props","_this","Object","_Users_nazar_n_src_hobee_fe_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_Users_nazar_n_src_hobee_fe_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_nazar_n_src_hobee_fe_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","onFocus","scrollToBottom","setState","tabActive","unread","document","title","onBlur","onMessage","e","receivedJson","JSON","parse","data","undefined","console","log","type","handleSystemMessage","handleOwnMessage","handleBuddyMessage","handleActivityMessage","handleDisconnect","window","confirm","o","text","state","websocket","send","stringify","status","handleSearch","clearChat","handleLike","liked","handleSave","handleReport","handleMouseEnter","target","parentElement","querySelector","classList","add","handleMouseLeave","remove","messages","reported","connectToChat","bind","_Users_nazar_n_src_hobee_fe_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","connectToWs","onOpen","onClose","sendWebsocketMessage","prevProps","removeEventListener","identify","ws","process","PORT","loc","location","wsUrl","protocol","host","WebSocket","Error","_context2","t0","binaryType","onopen","onclose","onmessage","addEventListener","fetch","credentials","response","json","_context4","msg","slice","push","pushUnreadMessage","pullRoomMessages","scrollTop","scrollHeight","url","search","_context7","error","t","err","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","className","ChatMessages","searching","ChatControls","disconnected","matched","React","Component","_this2","msgsHTML","map","wrapperClass","messageClass","Timestamp","direction","timestamp","concat","onMouseEnter","onMouseLeave","_this3","sendInputMessage","input","getElementsByTagName","value","inputText","handleKeyDown","key","handleOnChange","handleSendClick","DisconnectSearchButton","MiddleControl","onKeyDown","onChange","onClick","disabled","src","alt","placeholder","maxLength","dateTimestamp","Date","hours","getHours","minutes","getMinutes","ampm","strTime","module","exports","__webpack_require__","p","WithRouter","unlisten","history","listen","action","onRouteChange","children","withRouter","styles","alignItems","display","flexDirection","justifyContent","padding","borderBottom","minHeight","height","backgroundColor","border","fontSize","lineHeight","textAlign","boxSizing","color","margin","width","crown2","shield2","people4","Home","classCallCheck","possibleConstructorReturn","getPrototypeOf","didMount","setTimeout","sectionHeightHalf","sectionWidthThird","react_default","style","position","top","zIndex","react_responsive_default","query","objectSpread","borderRadius","boxShadow","widht","fontWeight","Link","to","Signup","hasError","handleFormSubmit","assertThisInitialized","preventDefault","_this$state","id","readOnly","Login","About","activeTabWho","animatePicture","onTabClick","onPictureClick","hash","that","Contact","rows","NotFound","GOT","chat","Height","Routing","Switch","Route","path","exact","render","home_Home","component","got_GOT","height_Height","logo","Nav","nextProps","pathname","class","App","innerHeight","innerWidth","onResize","vh","documentElement","setProperty","newLocation","BrowserRouter","WithRouterContainer","handleRouteChange","nav_Nav","react_transition_group","classNames","in","appear","timeout","enter","exit","routing_Routing","Boolean","hostname","match","ReactDOM","App_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3c29bc97.chunk.js","sourcesContent":["import React from \"react\";\n\nconst statusIdentifying = \"identifying\";\nconst statusConnecting = \"connecting\";\nconst statusSearching = \"searching\";\nconst statusMatched = \"matched\";\nconst statusDisconnected = \"disconnected\";\n\nconst typeActivity = \"a\";\nconst typeSystem = \"s\";\nconst typeOwn = \"o\";\nconst typeBuddy = \"b\";\n// const ADMIN = \"a\";\n\nconst systemSearch = \"s\";\nconst systemConnect = \"c\";\nconst systemDisconnect = \"d\";\n\nconst activityUserActive = \"ua\";\nconst activityUserInactive = \"ui\";\nconst activityRoomActive = \"ra\";\nconst activityRoomInactive = \"ri\";\n\nconst svgX = require('../images/xWhite.svg');\nconst svgNext = require('../images/nextWhite2.svg');\nconst svgSendWhite = require('../images/sendWhite.svg');\n\nconst svgHeartWhite = require('../images/heartWhite.svg');\nconst svgDisketteWhite = require('../images/disketteWhite.svg');\nconst svgExclamationWhite = require('../images/exclamationWhite.svg');\n\nconst svgHeartBlueEmpty = require('../images/heartBlueEmpty2.svg');\nconst svgHeartBlueFilled = require('../images/heartBlue2.svg');\nconst svgDisketteYellow = require('../images/disketteYellow.svg');\nconst svgExclamationRed = require('../images/exclamationRed.svg');\n\nexport default class Chat extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: [],\n      status: statusIdentifying,\n      websocket: null,\n      liked: false,\n      reported: false,\n      tabActive: true,\n      unread: 0,\n    };\n\n    this.connectToChat = this.connectToChat.bind(this);\n    this.connectToWs = this.connectToWs.bind(this);\n    this.onOpen = this.onOpen.bind(this);\n    this.onClose = this.onClose.bind(this);\n    this.sendWebsocketMessage = this.sendWebsocketMessage.bind(this);\n    this.handleSystemMessage = this.handleSystemMessage.bind(this);\n    this.handleOwnMessage = this.handleOwnMessage.bind(this);\n    this.clearChat = this.clearChat.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.messages !== this.props.messages) {\n      this.setState({messages: this.props.messages});\n    }\n  }\n\n  componentWilUnmount() {\n    window.removeEventListener(\"focus\", this.onFocus);\n    window.removeEventListener(\"blur\", this.onBlur);\n  }\n\n  clearChat() {\n    this.setState({messages: []});\n  }\n\n  onFocus = () => {\n    this.scrollToBottom();\n    this.setState({tabActive: true, unread: 0});\n\n    document.title = 'hobee: Dialogue definite';\n  }\n\n  onBlur = () => {\n    this.setState({tabActive: false});\n  }\n\n  async connectToChat() {\n    // Obtain cookie if not set\n    let response = await this.identify();\n    if (!response) {\n      return false;\n    }\n    this.setState({status: statusConnecting});\n\n    let success = this.connectToWs();\n    if (!success) {\n      // Try to reconnect again soon\n      return;\n    }\n\n    // If all goes successfully - do not prompt to reconnect\n    return true;\n  }\n\n  async connectToWs() {\n    // Connect to WS\n    let ws = null;\n\n    let port = 8080;\n    if (!!process && !!process.env && !!process.env.PORT) {\n      port = process.env.PORT;\n    }\n\n    try {\n      var loc = window.location, wsUrl;\n      if (loc.protocol === \"https:\") {\n        wsUrl = \"wss:\";\n      } else {\n        wsUrl = \"ws:\";\n      }\n      wsUrl += \"//\" + loc.host;\n      wsUrl += \"/api/got\";\n\n      ws = await new WebSocket(wsUrl);\n      if (ws === undefined) {\n        throw new Error(\"Could not connect to ws\");\n      }\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n\n    ws.binaryType = \"arraybuffer\";\n\n    ws.onopen = this.onOpen;\n    ws.onclose = this.onClose;\n    ws.onmessage = this.onMessage();\n\n    this.setState({websocket: ws});\n\n    return true;\n  }\n\n  async componentDidMount() {\n    window.addEventListener(\"focus\", this.onFocus);\n    window.addEventListener(\"blur\", this.onBlur);\n\n    this.connectToChat();\n  }\n\n  async pullRoomMessages() {\n    let url = \"/api/messages\";\n    let json;\n\n    try {\n      let response = await fetch(url, {credentials: \"include\"});\n      json = await response.json();\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n\n    if (json.messages === undefined) {\n      console.log(\"Unknown response:\", json);\n      return false;\n    }\n\n    return json.messages;\n  }\n\n  async handleSystemMessage(msg) {\n    let status, messages = this.state.messages.slice();\n\n    switch (msg.text) {\n      case systemConnect:\n        console.log(\"Matched\");\n        status = statusMatched;\n        break;\n      case systemDisconnect:\n        console.log(\"Disconnected\");\n        status = statusDisconnected;\n        break;\n      case systemSearch:\n        console.log(\"Available for search\");\n        status = statusSearching;\n        break;\n      default:\n        throw new Error(\"Unknown system message\", msg.text);\n    }\n\n    if (status != statusSearching) {\n      messages.push(msg);\n    }\n\n    if (status === statusSearching) {\n      this.clearChat();\n      this.sendWebsocketMessage(typeSystem, systemSearch);\n    }\n\n    this.setState({status: status, messages: messages});\n  }\n\n  handleBuddyMessage(msg) {\n    var messages = this.state.messages.slice();\n    messages.push(msg);\n    this.setState({messages: messages});\n\n    this.scrollToBottom();\n    this.pushUnreadMessage();\n  }\n\n  handleOwnMessage(msg) {\n    var messages = this.state.messages.slice();\n    messages.push(msg);\n    this.setState({messages: messages});\n\n    this.scrollToBottom();\n    this.pushUnreadMessage();\n  }\n\n  async handleActivityMessage(msg) {\n    let status, messages = this.state.messages.slice();\n\n    switch (msg.text) {\n      case activityRoomActive:\n        console.log(\"Room active\");\n        status = statusMatched;\n\n        messages = await this.pullRoomMessages();\n        break;\n      case activityRoomInactive:\n        console.log(\"Room inactive\");\n        status = statusDisconnected;\n        messages = await this.pullRoomMessages();\n        break;\n      case activityUserActive:\n      case activityUserInactive:\n        console.log(\"User activeness\");\n        status = this.state.status;\n        break;\n    }\n\n    messages.push(msg);\n\n    this.setState({status: status, messages: messages});\n\n    this.scrollToBottom();\n    this.pushUnreadMessage();\n  }\n\n  pushUnreadMessage() {\n    // We only push unread messages when the tab is not active\n    if (this.state.tabActive) {\n      return false;\n    }\n\n    this.setState({unread: this.state.unread + 1});\n\n    document.title = '(' + this.state.unread + ')' + ' hobee: Dialogue definite';\n  }\n\n  scrollToBottom() {\n    document.querySelector(\".chat-messages\").scrollTop = document.querySelector(\".chat-messages\").scrollHeight;\n  }\n\n  async identify() {\n    let url = \"/api/identify\" + window.location.search;\n    let json;\n\n    try {\n      let response = await fetch(url, {credentials: \"include\"});\n      json = await response.json();\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n\n    if (json.error === undefined || json.error) {\n      console.log(\"Unknown response:\", json);\n      return false;\n    }\n\n    return true;\n  }\n\n  onClose() {\n    this.setState({status: statusDisconnected});\n  }\n\n  onMessage = () => {\n    return (e) => {\n      var receivedJson = JSON.parse(e.data);\n\n      if (receivedJson === null || receivedJson === undefined) {\n        console.log(\"Received unexpected JSON:\", receivedJson);\n      }\n\n      switch (receivedJson.type) {\n        case typeSystem:\n          this.handleSystemMessage(receivedJson);\n          break;\n        case typeOwn:\n          this.handleOwnMessage(receivedJson);\n          break;\n        case typeBuddy:\n          this.handleBuddyMessage(receivedJson);\n          break;\n        case typeActivity:\n          this.handleActivityMessage(receivedJson);\n          break;\n        default:\n          console.log(\"Unexpected json:\", receivedJson);\n      }\n\n\n    }\n  }\n\n  onOpen() {\n  }\n\n  sendWebsocketMessage(t, msg) {\n    // check type\n    var o = {\n      type: t,\n      text: msg\n    };\n\n    if (this.state.websocket === null || this.state.websocket === undefined) {\n      console.log(\"Not connected to WS\");\n      return false;\n    }\n\n    try {\n      this.state.websocket.send(JSON.stringify(o));\n    } catch (err) {\n      console.log(err);\n      return false\n    }\n\n    return true;\n  }\n\n  handleDisconnect = () => {\n    if (!window.confirm(\"Are you sure you want to disconnect?\")) {\n      return false;\n    }\n\n    var o = {\n      type: typeSystem,\n      text: systemDisconnect,\n    };\n\n    this.state.websocket.send(JSON.stringify(o));\n\n    this.setState({status: statusDisconnected});\n  }\n\n  handleSearch = () => {\n    this.clearChat();\n\n    var o = {\n      type: typeSystem,\n      text: systemSearch,\n    };\n\n    this.state.websocket.send(JSON.stringify(o));\n\n    this.setState({status: statusSearching});\n  }\n\n  handleLike = () => {\n    this.setState({liked: !this.state.liked});\n  }\n\n  handleSave = () => {\n    console.log(\"Save clicked\");\n  }\n\n  handleReport = () => {\n    console.log(\"Report clicked\");\n  }\n\n  handleMouseEnter = (e) => {\n    let el = e.target;\n    el.parentElement.querySelector('.message-timestamp').classList.add('visible');\n  }\n\n  handleMouseLeave = (e) => {\n    let el = e.target;\n    el.parentElement.querySelector('.message-timestamp').classList.remove('visible');\n  }\n\n  render() {\n    return (\n        <div className={`main-content`}>\n          <ChatMessages messages={this.state.messages}\n                        searching={this.state.status === statusConnecting || this.state.status === statusSearching}\n                        status={this.state.status} handleMouseEnter={this.handleMouseEnter}\n                        handleMouseLeave={this.handleMouseLeave}/>\n          <ChatControls websocket={this.state.websocket} handleDisconnect={this.handleDisconnect}\n                        handleSearch={this.handleSearch} disconnected={this.state.status === statusDisconnected}\n                        matched={this.state.status === statusMatched} handleLike={this.handleLike}\n                        liked={this.state.liked}\n                        handleSave={this.handleSave} handleReport={this.handleReport}\n                        searching={this.state.status === statusConnecting || this.state.status === statusSearching}\n          />\n        </div>\n    );\n  }\n}\n\nclass ChatMessages extends React.Component {\n  render() {\n    if (this.props.searching) {\n      return (\n          <div className=\"chat-messages\">\n            <div className=\"status-wrapper\">\n              <div className=\"loader\"></div>\n              <div className=\"status\">{this.props.status}</div>\n            </div>\n          </div>\n      )\n    }\n\n    // let msgItems = this.props.messages.filter(function (msg) {\n    //       if (msg.type === typeSystem) {\n    //         return false;\n    //       }\n    //\n    //       return true;\n    //     }\n    // );\n    let msgs = this.props.messages;\n\n    let msgsHTML = msgs.map((msg) => {\n          // We skip the room active/inactive messages, which are only for us to know if we need to pull messages and\n          // show disconnected state\n          if ((msg.type === typeActivity) && (msg.text === activityRoomActive || msg.text === activityRoomInactive)) {\n            return;\n          }\n\n          let wrapperClass = '', messageClass = '';\n\n          switch (msg.type) {\n            case typeOwn:\n              wrapperClass = 'my-message-container';\n              messageClass = 'my-message';\n              break;\n            case typeBuddy:\n              wrapperClass = 'buddy-message-container';\n              messageClass = 'buddy-message';\n              break;\n            case typeActivity:\n            case typeSystem:\n              wrapperClass = 'system-message-container';\n              messageClass = 'system-message';\n              break;\n            default:\n              throw new Error('Unknown message type', msg.type);\n          }\n\n          let text = msg.text;\n\n          // We substitute the system messages to UI readable texts\n          if (msg.type === typeSystem) {\n            switch (msg.text) {\n              case systemConnect:\n                text = 'Matched';\n                break;\n              case systemDisconnect:\n                text = 'Disconnected';\n                break;\n            }\n          }\n\n          if (msg.type === typeActivity) {\n            switch (msg.text) {\n              case activityUserActive:\n                text = 'Is active';\n                break;\n              case activityUserInactive:\n                text = 'Is inactive';\n                break;\n            }\n          }\n\n          if (msg.type === typeOwn) {\n            return (\n                <div className={wrapperClass}>\n                  <Timestamp direction={'left'} timestamp={msg.timestamp}/>\n                  <div className={`chat-message ${messageClass}`} onMouseEnter={this.props.handleMouseEnter}\n                       onMouseLeave={this.props.handleMouseLeave}>\n                    {text}\n                  </div>\n                </div>\n            );\n          }\n\n          if (msg.type === typeBuddy) {\n            return (\n                <div className={wrapperClass}>\n                  <div className={`chat-message ${messageClass}`} onMouseEnter={this.props.handleMouseEnter}\n                       onMouseLeave={this.props.handleMouseLeave}>\n                    {text}\n                  </div>\n                  <Timestamp direction={'right'} timestamp={msg.timestamp}/>\n                </div>\n            );\n          }\n\n          return (\n              <div className={wrapperClass}>\n                <div className={`chat-message ${messageClass}`} onMouseEnter={this.props.handleMouseEnter}\n                     onMouseLeave={this.props.handleMouseLeave}>\n                  {text}\n                </div>\n                <Timestamp direction={'bottom'} timestamp={msg.timestamp}/>\n              </div>\n          );\n        }\n    );\n\n    return (\n        <div className='chat-messages fade-in'>\n          {msgsHTML}\n        </div>\n    );\n  }\n}\n\nclass ChatControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputText: '',\n    };\n  }\n\n  sendInputMessage = () => {\n    let input = document.getElementsByTagName('input')[0];\n    let text = input.value;\n\n    // If input is empty - nothing to send\n    if (text === '') {\n      return true;\n    }\n\n    var o = {\n      type: \"o\",\n      text: text,\n    };\n\n    this.props.websocket.send(JSON.stringify(o));\n\n    console.log(\"Sent message:\", text);\n    input.value = '';\n    this.setState({inputText: input.value});\n\n    return true;\n  }\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.sendInputMessage();\n      return true;\n    }\n  }\n\n  handleOnChange = (e) => {\n    let input = document.getElementsByTagName('input')[0];\n    if (!!input) {\n      this.setState({inputText: input.value});\n      return true;\n    }\n// + send \"typing\" event here?\n  }\n\n  handleSendClick = () => {\n    this.sendInputMessage();\n  }\n\n  render() {\n    return (\n        <div className={`chat-controls connected fade-in`}>\n          <DisconnectSearchButton handleDisconnect={this.props.handleDisconnect} handleSearch={this.props.handleSearch}\n                                  disconnected={this.props.disconnected}/>\n          <MiddleControl matched={this.props.matched} onKeyDown={this.handleKeyDown} onChange={this.handleOnChange}\n                         handleLike={this.props.handleLike} liked={this.props.liked} handleSave={this.props.handleSave}\n                         handleReport={this.props.handleReport} searching={this.props.searching}/>\n          <div className=\"circle-wrapper send\">\n            <button\n                className={`chat-send-button circle` +\n                ((this.props.disconnected || this.state.inputText === '') ? ' disabled' : '')}\n                onClick={this.handleSendClick}\n                disabled={(this.props.disconnected || this.state.inputText === '' ? ' disabled' : '')}>\n              <img className=\"button-icon\" src={svgSendWhite} alt=\"Send\"></img>\n            </button>\n          </div>\n        </div>\n    );\n  }\n}\n\nclass DisconnectSearchButton extends React.Component {\n  render() {\n    if (this.props.disconnected) {\n      return (\n          <div className=\"circle-wrapper\">\n            <button className={`chat-next-button circle`} onClick={this.props.handleSearch}>\n              <img className=\"button-icon\" src={svgNext} alt=\"Next\"></img>\n            </button>\n          </div>\n      );\n    }\n\n    return (\n        <div className=\"circle-wrapper\">\n          <button className={`chat-disconnect-button circle`} onClick={this.props.handleDisconnect}>\n            <img className=\"button-icon x\" src={svgX} alt=\"Disconnect\"></img>\n          </button>\n        </div>\n    );\n  }\n}\n\nclass MiddleControl extends React.Component {\n  render() {\n    if (this.props.searching) {\n      return (\n          <div className={`middle-buttons`}></div>\n      );\n    }\n\n    if (this.props.matched) {\n      return (\n          <input type=\"text\" placeholder=\"Message\"\n                 className={`chat-input` + (this.props.disconnected ? ' chat-controls-disabled' : '')}\n                 onKeyDown={this.props.onKeyDown} onChange={this.props.onChange} maxLength={1024 - 40}\n                 disabled={(this.props.disconnected ? ' disabled' : '')}/>\n      );\n    }\n    return (\n        <div className={`middle-buttons`}>\n          <div className=\"circle-wrapper\">\n            <button className={`middle-button circle like-button` + (this.props.liked ? ' active' : '')}\n                    onClick={this.props.handleLike}>\n              <img className=\"button-icon like\" src={(this.props.liked ? svgHeartBlueFilled : svgHeartBlueEmpty)}\n                   alt=\"Like\"></img>\n              {/*<div className={(this.props.liked ? ' like-text animate' : 'like-text')}>Liked</div>*/}\n            </button>\n          </div>\n          {/*<div className=\"circle-wrapper\">*/}\n          {/*<button className={`middle-button circle save-button`} onClick={this.props.handleSave}>*/}\n          {/*<img className=\"button-icon\" src={svgDisketteWhite} alt=\"Save\"></img>*/}\n          {/*</button>*/}\n          {/*</div>*/}\n          <div className=\"circle-wrapper\">\n            <button className={`middle-button circle report-button` + (this.props.liked ? ' active' : '')}\n                    onClick={this.props.handleReport}>\n              <img className=\"button-icon\" src={(this.props.liked ? svgExclamationWhite : svgExclamationRed)}\n                   alt=\"Report\"></img>\n            </button>\n          </div>\n        </div>\n    );\n  }\n}\n\nclass Timestamp extends React.Component {\n  render() {\n    // let hoursOffset = -(new Date().getTimezoneOffset() / 60);\n    let dateTimestamp = new Date(this.props.timestamp);\n\n    // dateTimestamp.setHours(dateTimestamp.getHours()+ hoursOffset);\n\n    let hours = dateTimestamp.getHours();\n    let minutes = dateTimestamp.getMinutes();\n    let ampm = hours >= 12 ? 'PM' : 'AM';\n\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n\n    let strTime = hours + ':' + minutes + ' ' + ampm;\n\n    return (\n        <span\n            className={`message-timestamp` + (this.props.direction === 'bottom' ? ' timestamp-system' : '')}>{strTime}</span>\n    );\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/crown2.b2b97c41.svg\";","module.exports = __webpack_public_path__ + \"static/media/shield2.c405312f.svg\";","module.exports = __webpack_public_path__ + \"static/media/people4.ce737683.svg\";","module.exports = __webpack_public_path__ + \"static/media/xWhite.d527b858.svg\";","module.exports = __webpack_public_path__ + \"static/media/nextWhite2.ce906727.svg\";","module.exports = __webpack_public_path__ + \"static/media/sendWhite.b7ed5a83.svg\";","module.exports = __webpack_public_path__ + \"static/media/heartWhite.cbaf32fe.svg\";","module.exports = __webpack_public_path__ + \"static/media/disketteWhite.27fe68ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/exclamationWhite.f1eeb750.svg\";","module.exports = __webpack_public_path__ + \"static/media/heartBlueEmpty2.39d58abd.svg\";","module.exports = __webpack_public_path__ + \"static/media/heartBlue2.ae68101a.svg\";","module.exports = __webpack_public_path__ + \"static/media/disketteYellow.9c1b956e.svg\";","module.exports = __webpack_public_path__ + \"static/media/exclamationRed.9703b018.svg\";","module.exports = __webpack_public_path__ + \"static/media/h.3c321788.svg\";","import React from \"react\";\nimport { withRouter } from 'react-router';\n\nclass WithRouter extends React.Component {\n  componentWillMount() {\n    this.unlisten = this.props.history.listen((location, action) => {\n      this.props.onRouteChange(location);\n    });\n  }\n\n  componentWillUnmount() {\n      this.unlisten();\n  }\n\n  componentDidMount() {\n    this.props.onRouteChange(this.props.location);\n  }\n\n  render() {\n     return (\n         this.props.children\n     );\n  }\n}\n\nexport default withRouter(WithRouter);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport MediaQuery from 'react-responsive';\n\nconst styles = {\n  section1: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    padding: '0 50px',\n    borderBottom: '1px solid #e6e6e6',\n    minHeight: '300px',\n    height: '100%',\n  },\n  section1Small: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  section2: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    padding: '0 50px',\n    minHeight: '300px',\n    height: '100%',\n    backgroundColor: '#fcfcff',\n  },\n  footer: {\n    // boxShadow: 'rgba(0, 0, 0, 0.1) 0px -4px 2px -2px',\n    border: '1px solid #ccc',\n    fontSize: '16px',\n    lineHeight: '70px',\n    height: '70px',\n    textAlign: 'center',\n    padding: '0 50px',\n    boxSizing: 'border-box',\n  },\n  motto: {\n    color: '#fff',\n    display: 'inline-block',\n    fontSize: '54px',\n    margin: '0',\n    textAlign: 'center',\n    // whiteSpace: 'pre-line',\n    width: '100%',\n  }\n}\n\n// const blueCircle = require('../images/bluecircle.png');\n// const checkmark = require('../images/checkmark.svg');\n// const shield = require('../images/shield.svg');\n// const people = require('../images/people.svg');\n// const people2 = require('../images/people2.svg');\n// const crown = require('../images/crown.svg');\n\nconst crown2 = require('../images/crown2.svg');\nconst shield2 = require('../images/shield2.svg');\nconst people4 = require('../images/people4.svg');\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      didMount: false,\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n        this.setState({didMount: true})\n    }, 0)\n  }\n\n// If height is less than 750 only then do we not fit everything on the screen? Or should we scale it down?\n  render() {\n    const sectionHeightHalf = (this.props.height - 140) / 2\n    // const sectionHeightTwoThirds = (this.props.height - 140) * 0.6\n    // const sectionHeightOneThirds = (this.props.height - 140) * 0.4\n    const sectionWidthThird = (this.props.width - 100) / 3;\n    // const sectionWidthHalf = (this.props.width - 100) / 2;\n\n    const { didMount } = this.state;\n\n    return (\n      <div style={{ position: 'absolute', top: '70px', zIndex: '1'}}>\n        <MediaQuery  query=\"(min-width: 801px)\">\n          <div style={{ backgroundColor: '#0074d9', height: sectionHeightHalf }} className={`fade-in-motto-bg ${didMount && 'visible'}`}>\n          {/*<div style={{ backgroundImage: 'linear-gradient(180deg, #4fadff 10%, #0074d9)'}}>*/}\n            <div style={{ ...styles.section1 }}>\n              {/*<div style={{ height: '100%', width: sectionWidthThird }}>*/}\n                {/*<img src={man} style={{ height: '100%'}} alt=\"Man\" />*/}\n              {/*</div>*/}\n              <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%', width: sectionWidthThird}}>\n                <div style={{...styles.motto}} className={`fade-in-motto ${didMount && 'visible'}`}>Dialogue definite</div>\n                <div>Discuss your ideas, discover interesting people (What is the problem this site is solving?)</div>\n              </div>\n              {/*<div style={{height: '100%', width: sectionWidthThird}}>*/}\n                {/*<img src={woman} style={{ height: '100%'}} alt=\"Woman\" />*/}\n              {/*</div>*/}\n            </div>\n          </div>\n        </MediaQuery>\n        <MediaQuery  query=\"(max-width: 800px)\">\n          <div style={{ backgroundColor: '#0074d9'}}>\n            <div style={{ ...styles.section1Small}}>\n              <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%', width: '100%'}}>\n                <div style={{ ...styles.motto }}>Dialogue{\"\\n\"}definite</div>\n              </div>\n              {/*<div style={{display: 'flex', alignItems: 'center', flexDirection: 'row', width: '100%'}}>*/}\n                {/*<div style={{ height: '100%', width: sectionWidthHalf, display: 'flex', flexDirection: 'row'}}>*/}\n                  {/*<img src={man} style={{ height: '100%', width: '100%'}} alt=\"Man\" />*/}\n                {/*</div>*/}\n                {/*<div style={{height: '100%', width: sectionWidthHalf, display: 'flex', flexDirection: 'row'}}>*/}\n                  {/*<img src={woman} style={{ height: '100%', width: '100%'}} alt=\"Woman\" />*/}\n                {/*</div>*/}\n              {/*</div>*/}\n            </div>\n          </div>\n        </MediaQuery>\n        <div style={{ ...styles.section2, height: sectionHeightHalf }}>\n          <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column', height: '100%',\n            width: sectionWidthThird, padding: '25px', boxSizing: 'border-box' }}\n               className={`fade-in-circle-1 ${didMount && 'visible'}`}>\n            <div style={{ height: '150px', width: '150px', display: 'block', margin: '0 auto',\n              backgroundColor: '#ffffff', borderRadius: '150px', border: '1px solid #e6e6e6',\n              boxShadow: 'rgba(150, 150, 150, 0.4) 0px 2px 6px 0px' }}>\n              <img src={crown2} height=\"100px\" widht=\"100px\" style={{ display: 'block', margin: '25px auto' }} alt={'Crown'} />\n            </div>\n            <p style={{margin: '20px auto 0 auto', fontSize: '24px', color: '#222', fontWeight: '600'}}>Quality</p>\n            <p style={{margin: '15px 40px', textAlign: 'center', fontSize: '18px', color: '#666', fontWeight: '400'}}>Your meaningful conversation is highest priority</p>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column', height: '100%',\n            width: sectionWidthThird, padding: '25px', boxSizing: 'border-box' }}\n          className={`fade-in-circle-1 ${didMount && 'visible'}`}>\n            <div style={{ height: '150px', width: '150px', display: 'block', margin: '0 auto',\n              backgroundColor: \"#ffffff\", borderRadius: '150px', border: '1px solid #e6e6e6', boxShadow: 'rgba(150, 150, 150, 0.4) 0px 2px 6px 0px' }}><img src={shield2} height=\"80px\" widht=\"80px\" style={{ display: 'block', margin: '35px auto 25px auto' }} alt={'Shield'} /></div>\n            <p style={{margin: '20px auto 0 auto', fontSize: '24px', color: '#222', fontWeight: '600'}}>Safety</p>\n            <p style={{margin: '15px 40px', textAlign: 'center', fontSize: '18px', color: '#666', fontWeight: '400'}}>Spam, harassment, bots and other inappropriate behavior are not tolerated</p>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column', height: '100%',\n            width: sectionWidthThird, padding: '25px', boxSizing: 'border-box' }}\n          className={`fade-in-circle-1 ${didMount && 'visible'}`}>\n            <div style={{ height: '150px', width: '150px', display: 'block', margin: '0 auto',\n              backgroundColor: \"#ffffff\", borderRadius: '150px', border: '1px solid #e6e6e6', boxShadow: 'rgba(150, 150, 150, 0.4) 0px 2px 6px 0px' }}><img src={people4} height=\"100px\" widht=\"100px\" style={{ display: 'block', margin: '25px auto 5px auto' }} alt={'People'} /></div>\n            <p style={{margin: '20px auto 0 auto', fontSize: '24px', color: '#222', fontWeight: '600'}}>Community</p>\n            <p style={{margin: '15px 40px', textAlign: 'center', fontSize: '18px', color: '#666', fontWeight: '400'}}>Smallest feedback you have is very critical in making us better</p>\n          </div>\n        </div>\n        <div style={{ ...styles.footer }}>\n          <span className={`footer-item`}><Link to=\"/about\">About</Link></span><span className={`footer-item`}><Link to=\"/contact\">Contact</Link></span>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Signup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      err: 'Error occured!',\n    };\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n\n    this.setState({ hasError: !this.state.hasError });\n  }\n\n  render() {\n    const { hasError, err } = this.state;\n\n    return (\n      <div className=\"main-content background-shade-darker\">\n        <div className=\"auth-page\">\n          {/*<h1 className={`heading`}>Sign up</h1>*/}\n          <form style={{ textAlign: 'center' }}>\n            <p><input type=\"text\" placeholder=\"email\" id=\"email\" className={`auth-input`} /></p>\n            <p><input type=\"password\" placeholder=\"password\" className={`auth-input`} /></p>\n            <p><input type=\"text\" placeholder=\"invitation code\" className={`auth-input`} /></p>\n            <p><input type=\"text\" className={`error-auth ${hasError ? 'visible' : ''}`} value={ err } readOnly /></p>\n            <button className={`submit-button`} onClick={this.handleFormSubmit}>Sign up</button>\n          </form>\n        </div>\n        <div className=\"or\">\n          <Link to=\"/login\">I have an account</Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      err: 'Error occured!',\n    };\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n\n    this.setState({ hasError: !this.state.hasError });\n  }\n\n  render() {\n    const { hasError, err } = this.state;\n\n    return (\n      <div className=\"main-content background-shade-darker\">\n        <div className=\"auth-page\">\n          {/*<h1 className={`heading`}>Log in</h1>*/}\n          <form style={{ textAlign: 'center' }}>\n            <p><input type=\"text\" placeholder=\"email\" className={`auth-input`} /></p>\n            <p><input type=\"password\" placeholder=\"password\" className={`auth-input`} /></p>\n            <p><input type=\"text\" className={`error-auth ${hasError ? 'visible' : ''}`} value={ err } readOnly /></p>\n            <button className={`submit-button`} onClick={this.handleFormSubmit}>Log in</button>\n            <div><Link to=\"/\">I have forgotten my password</Link></div>\n          </form>\n        </div>\n        <div className=\"or\">\n          <Link to=\"/signup\"> I don't have an account</Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class About extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTabWho: false,\n      animatePicture: false,\n    };\n\n    this.onTabClick = this.onTabClick.bind(this);\n    this.onPictureClick = this.onPictureClick.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.location.hash === '#who') {\n      this.setState({ activeTabWho: true });\n      return;\n    }\n  }\n\n  onTabClick(e) {\n    let id = e.target.id;\n    // let anchor = '#' + id;\n\n    switch(id) {\n      case 'why':\n        this.setState({ activeTabWho: false});\n        // anchor = '';\n        break;\n      case 'who':\n        this.setState({ activeTabWho: true});\n        break;\n      default:\n        // Unknown id\n        return;\n    }\n\n    // If I push into history, the location.key changes, and that triggers the page to reload of course. Bug #3\n    // this.props.history.push(\"/about\" + anchor);\n\n    // Another way to make it work\n    // this.context.router.history.push(\"/about\" + anchor);\n  }\n\n  onPictureClick() {\n    this.setState( { animatePicture: true } );\n/*\n  How to make the current element z-index lowest?\n  So if we have 5 pictures:\n  Pic1: z-index: 5;\n  ...\n  Pic5: z-index: 1;\n\n  ->\n\n  Pic1: z-index: 1;\n  ...\n  Pic5: z-index: 2;\n  That way we move the highest picture to the very bottom, and scroll through them\n */\n    let that = this;\n    setTimeout(function() {\n      that.setState( { animatePicture: false } );\n    }, 1000);\n  }\n\n  render() {\n    const { activeTabWho, animatePicture } = this.state;\n\n    const whyContent = `It is my belief that you should be able to go online, connect to a person and have a great conversation.` +\n        `It doesn't even have to be great, but it can be meaningful, interesting and engaging, and I couldn't find ` +\n        `a platform like that myself. We don't choose the environments we grow up in, and we're sometimes stuck in a weird place in` +\n        `life, but that doesn't mean that you have to be alone. I'm strongly convinced that everyone deserves to be heard and to ` +\n        `have a way of communicating with others, without necessary knowing them in real life or even speaking to them ever again`;\n    const whoContent = `I'm a 27 year old self-taught programmer who lives and works in Malmö and who's deeply motivated to\n         contribute into wellness of everyone, and I'm confident that if we'll work in the same direction we can achieve excellence`;\n\n    return (\n      <div className={`main-content`}>\n        <h1 className={`heading`}>About</h1>\n        <div style={{ textAlign: 'center', fontSize: '20px' }}>\n          <span id={`why`} className={activeTabWho ? '' : 'active-tab'} onClick={this.onTabClick}>Why</span> |\n          <span id={`who`} className={activeTabWho ? 'active-tab' : ''} onClick={this.onTabClick}>Who</span>\n          <div className={activeTabWho ? 'inactive-content' : 'active-content'}>\n            {whyContent}\n          </div>\n          <div className={activeTabWho ? 'active-content' : 'inactive-content'}>\n            <div id=\"picture-gallery\">\n              <div className={`pic red ${animatePicture ? 'pic-discard' : ''}`} onClick={this.onPictureClick}></div>\n              <div className=\"pic blue\"></div>\n              <div className=\"pic green\"></div>\n            </div>\n            {whoContent}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class Contact extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      err: '',\n    };\n\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    if (this.state.err === '') {\n      this.setState({ err: 'Error occured!' });\n      return\n    }\n\n    this.setState({ err: '' });\n  }\n\n  render() {\n    const { err } = this.state;\n\n    return (\n      <div className=\"main-content background-shade-darker\">\n        <div className=\"auth-page\">\n          <h1 className={`heading`}>Contact</h1>\n          <form style={{ textAlign: 'center' }}>\n            {/*Reason dropdown with nice rounded corners: https://www.w3schools.com/code/tryit.asp?filename=FYMRDTDV2KDM*/}\n            <p><input type=\"text\" placeholder=\"name\" className={`auth-input`} /></p>\n            <p><input type=\"text\" placeholder=\"email\" className={`auth-input`} /></p>\n            <p><textarea className={`auth-textarea`} placeholder=\"message\" rows=\"7\"></textarea></p>\n            <p><input type=\"text\" className={`error-auth ${err && 'visible'}`} value={ err } readOnly /></p>\n            <button className={`submit-button`} onClick={this.handleFormSubmit}>Contact</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nexport default class NotFound extends React.Component {\n  render() {\n    return (\n      <h1 style={{ position: 'absolute', top: '70px', zIndex: '1'}}>Page not found</h1>\n    );\n  }\n}\n","import React from \"react\";\n\nimport Chat from \"./chat\";\n\n// TODO:\n// - Clean everything up as much as possible into old code vs new code and then git commit!\n// - If error - show reconnect link\n// - Would be cool if there is any error happening to send it back to the backend to see what possible\n// problems user had on the FE\n// - Maybe have a counter of fails to \"Reconnect\". If it's like 3-5-10 - show a \"Contact support\" link\n// so the user doesn't torture themselves ;(\n// - Set websocket field as a global state parameter! That way even if you change pages the websockets will still be alive\n// ^_^\n// - Maybe check status when connected to WS, that way we know if we're ready to chat or there's an existing\n// chat going on right now so we can reconnect to it?\n// - Probably overcomplicating the loading/connecting/matching page design? :(\n\nexport default class GOT extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n      return <Chat />\n  }\n}\n","import React from \"react\";\n\nexport default class Height extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n        <div style={{ width: '100%', height: '100%' }}>\n          <div style={{ width: '100%', height: '40%', backgroundColor: 'red' }}></div>\n          <div style={{ width: '100%', height: '40%', backgroundColor: 'green' }}></div>\n          <div style={{ width: '100%', height: '20%', backgroundColor: 'blue' }}></div>\n        </div>\n    );\n  }\n}\n","import React from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\n\nimport Home from \"./pages/home\";\nimport Signup from \"./pages/signup\";\nimport Login from \"./pages/login\";\nimport Chat from \"./pages/chat\";\nimport About from \"./pages/about\";\nimport Contact from \"./pages/contact\";\nimport NotFound from \"./pages/notfound\";\n\nimport GOT from \"./pages/got\";\nimport Height from \"./pages/height\";\n\nexport default class Routing extends React.Component {\n  render() {\n    return (\n      <Switch location={ this.props.location } >\n        <Route path=\"/\" exact render={() => <Home height={ this.props.height } width={ this.props.width } />} />\n        <Route path=\"/signup\" exact component={ Signup } />\n        <Route path=\"/login\" exact component={ Login} />\n        <Route path=\"/chat\" exact render={() => <Chat height={ this.props.height } width={ this.props.width } />} />\n        <Route path=\"/about\" exact component={ About } location={ this.props.location } />\n        <Route path=\"/contact\" exact component={ Contact } />\n        <Route path=\"/got\" exact render={() => <GOT height={ this.props.height } width={ this.props.width } />} />\n        <Route path=\"/height\" exact render={() => <Height />} />\n        <Route component={ NotFound } />\n      </Switch>\n    );\n  }\n}\n","import React from \"react\";\n// import MediaQuery from 'react-responsive';\nimport { Link } from \"react-router-dom\";\n\n// const colorBlack = '#000000';\n// const colorWhite = '#FFFFFF';\n// const colorMediumBlue = '#0000CD';\n// const colorBlueSoft = '#0074d9';\n// const colorBlueDarker = '#005299';\n\nconst logo = require('./images/h.svg');\n\nexport default class Nav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: window.location,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ location: nextProps.location });\n  }\n\n  render() {\n    let signupVisible = true;\n    let pathname = this.state.location.pathname;\n\n    // Don't show signup button in signup page\n    // Hack: temporarily don't show it on /chat as well\n    if (pathname === \"/signup\" || pathname === \"/chat\") {\n      signupVisible = false;\n    }\n\n    return (\n      <div class=\"nav-height\">\n        <div class=\"nav nav-height\">\n          <Link class=\"logo-height\" to=\"/\" >\n            <img class=\"logo logo-height\" src={logo} alt=\"Logo\" />\n          </Link>\n          {/*<SignupButton margin={sideMargin} width={buttonWidth} visible={signupVisible} />*/}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass SignupButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hover: false,\n    };\n\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n  }\n\n  onMouseEnter() {\n    this.setState({ hover: true });\n  }\n\n  onMouseLeave() {\n    this.setState({ hover: false });\n  }\n\n  render() {\n    return (\n        <div style={{ position: 'absolute', top: '18px', right: this.props.margin }}>\n          <Link to=\"/signup\">\n            <button className={`sign-up-button ${this.props.visible ? '' : 'fade'}`} style={{ width: this.props.width }}>\n              Sign up\n            </button>\n          </Link>\n        </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { TransitionGroup, CSSTransition } from 'react-transition-group'\n\n// This helps know when the page is changed, since the whole thing is a single page application sort of with react\n// router\nimport WithRouterContainer from './WithRouterContainer';\n\n// Routing table\nimport Routing from './routing';\nimport Nav from './nav';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: window.location,\n      height: window.innerHeight,\n      width: window.innerWidth\n    };\n\n    this.onResize = this.onResize.bind(this);\n  }\n\n  componentDidMount() {\n    let vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n    window.addEventListener('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  }\n\n  onResize() {\n    let vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n\n    this.setState({ width: window.innerWidth, height: window.innerHeight});\n  }\n\n  handleRouteChange(newLocation) {\n    this.setState({ location: newLocation });\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <WithRouterContainer onRouteChange={newLocation => this.handleRouteChange(newLocation)}>\n          <Nav style={{ height: '10%' }} height={this.state.height} width={this.state.width} location={this.state.location} />\n          <TransitionGroup>\n            <CSSTransition\n                  key={this.state.location.pathname}\n                  classNames=\"fade\"\n                  in={true}\n                  appear={true}\n                  timeout={{ appear: 1000, enter: 1000, exit: 1000}}\n            >\n              <Routing height={this.state.height} width={this.state.width} location={this.state.location} />\n            </CSSTransition>\n          </TransitionGroup>\n        </WithRouterContainer>\n      </BrowserRouter>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}